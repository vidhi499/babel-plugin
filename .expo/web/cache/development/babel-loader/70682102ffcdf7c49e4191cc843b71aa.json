{"ast":null,"code":"import isSelectionValid from \"../../modules/isSelectionValid\";\nvar keyName = '__reactResponderId';\nfunction getEventPath(domEvent) {\n  if (domEvent.type === 'selectionchange') {\n    var target = window.getSelection().anchorNode;\n    return composedPathFallback(target);\n  } else {\n    var path = domEvent.composedPath != null ? domEvent.composedPath() : composedPathFallback(domEvent.target);\n    return path;\n  }\n}\nfunction composedPathFallback(target) {\n  var path = [];\n  while (target != null && target !== document.body) {\n    path.push(target);\n    target = target.parentNode;\n  }\n  return path;\n}\nfunction getResponderId(node) {\n  if (node != null) {\n    return node[keyName];\n  }\n  return null;\n}\nexport function setResponderId(node, id) {\n  if (node != null) {\n    node[keyName] = id;\n  }\n}\nexport function getResponderPaths(domEvent) {\n  var idPath = [];\n  var nodePath = [];\n  var eventPath = getEventPath(domEvent);\n  for (var i = 0; i < eventPath.length; i++) {\n    var node = eventPath[i];\n    var id = getResponderId(node);\n    if (id != null) {\n      idPath.push(id);\n      nodePath.push(node);\n    }\n  }\n  return {\n    idPath: idPath,\n    nodePath: nodePath\n  };\n}\nexport function getLowestCommonAncestor(pathA, pathB) {\n  var pathALength = pathA.length;\n  var pathBLength = pathB.length;\n  if (pathALength === 0 || pathBLength === 0 || pathA[pathALength - 1] !== pathB[pathBLength - 1]) {\n    return null;\n  }\n  var itemA = pathA[0];\n  var indexA = 0;\n  var itemB = pathB[0];\n  var indexB = 0;\n  if (pathALength - pathBLength > 0) {\n    indexA = pathALength - pathBLength;\n    itemA = pathA[indexA];\n    pathALength = pathBLength;\n  }\n  if (pathBLength - pathALength > 0) {\n    indexB = pathBLength - pathALength;\n    itemB = pathB[indexB];\n    pathBLength = pathALength;\n  }\n  var depth = pathALength;\n  while (depth--) {\n    if (itemA === itemB) {\n      return itemA;\n    }\n    itemA = pathA[indexA++];\n    itemB = pathB[indexB++];\n  }\n  return null;\n}\nexport function hasTargetTouches(target, touches) {\n  if (!touches || touches.length === 0) {\n    return false;\n  }\n  for (var i = 0; i < touches.length; i++) {\n    var node = touches[i].target;\n    if (node != null) {\n      if (target.contains(node)) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\nexport function hasValidSelection(domEvent) {\n  if (domEvent.type === 'selectionchange') {\n    return isSelectionValid();\n  }\n  return domEvent.type === 'select';\n}\nexport function isPrimaryPointerDown(domEvent) {\n  var altKey = domEvent.altKey,\n    button = domEvent.button,\n    buttons = domEvent.buttons,\n    ctrlKey = domEvent.ctrlKey,\n    type = domEvent.type;\n  var isTouch = type === 'touchstart' || type === 'touchmove';\n  var isPrimaryMouseDown = type === 'mousedown' && (button === 0 || buttons === 1);\n  var isPrimaryMouseMove = type === 'mousemove' && buttons === 1;\n  var noModifiers = altKey === false && ctrlKey === false;\n  if (isTouch || isPrimaryMouseDown && noModifiers || isPrimaryMouseMove && noModifiers) {\n    return true;\n  }\n  return false;\n}","map":{"version":3,"sources":["/Users/VidhiKataria/Documents/Projects/testing123/node_modules/react-native-web/dist/modules/useResponderEvents/utils.js"],"names":["isSelectionValid","keyName","getEventPath","domEvent","type","target","window","getSelection","anchorNode","composedPathFallback","path","composedPath","document","body","push","parentNode","getResponderId","node","setResponderId","id","getResponderPaths","idPath","nodePath","eventPath","i","length","getLowestCommonAncestor","pathA","pathB","pathALength","pathBLength","itemA","indexA","itemB","indexB","depth","hasTargetTouches","touches","contains","hasValidSelection","isPrimaryPointerDown","altKey","button","buttons","ctrlKey","isTouch","isPrimaryMouseDown","isPrimaryMouseMove","noModifiers"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Nicolas Gallagher\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nimport isSelectionValid from '../../modules/isSelectionValid';\nvar keyName = '__reactResponderId';\n\nfunction getEventPath(domEvent) {\n  // The 'selectionchange' event always has the 'document' as the target.\n  // Use the anchor node as the initial target to reconstruct a path.\n  // (We actually only need the first \"responder\" node in practice.)\n  if (domEvent.type === 'selectionchange') {\n    var target = window.getSelection().anchorNode;\n    return composedPathFallback(target);\n  } else {\n    var path = domEvent.composedPath != null ? domEvent.composedPath() : composedPathFallback(domEvent.target);\n    return path;\n  }\n}\n\nfunction composedPathFallback(target) {\n  var path = [];\n\n  while (target != null && target !== document.body) {\n    path.push(target);\n    target = target.parentNode;\n  }\n\n  return path;\n}\n/**\n * Retrieve the responderId from a host node\n */\n\n\nfunction getResponderId(node) {\n  if (node != null) {\n    return node[keyName];\n  }\n\n  return null;\n}\n/**\n * Store the responderId on a host node\n */\n\n\nexport function setResponderId(node, id) {\n  if (node != null) {\n    node[keyName] = id;\n  }\n}\n/**\n * Filter the event path to contain only the nodes attached to the responder system\n */\n\nexport function getResponderPaths(domEvent) {\n  var idPath = [];\n  var nodePath = [];\n  var eventPath = getEventPath(domEvent);\n\n  for (var i = 0; i < eventPath.length; i++) {\n    var node = eventPath[i];\n    var id = getResponderId(node);\n\n    if (id != null) {\n      idPath.push(id);\n      nodePath.push(node);\n    }\n  }\n\n  return {\n    idPath,\n    nodePath\n  };\n}\n/**\n * Walk the paths and find the first common ancestor\n */\n\nexport function getLowestCommonAncestor(pathA, pathB) {\n  var pathALength = pathA.length;\n  var pathBLength = pathB.length;\n\n  if ( // If either path is empty\n  pathALength === 0 || pathBLength === 0 || // If the last elements aren't the same there can't be a common ancestor\n  // that is connected to the responder system\n  pathA[pathALength - 1] !== pathB[pathBLength - 1]) {\n    return null;\n  }\n\n  var itemA = pathA[0];\n  var indexA = 0;\n  var itemB = pathB[0];\n  var indexB = 0; // If A is deeper, skip indices that can't match.\n\n  if (pathALength - pathBLength > 0) {\n    indexA = pathALength - pathBLength;\n    itemA = pathA[indexA];\n    pathALength = pathBLength;\n  } // If B is deeper, skip indices that can't match\n\n\n  if (pathBLength - pathALength > 0) {\n    indexB = pathBLength - pathALength;\n    itemB = pathB[indexB];\n    pathBLength = pathALength;\n  } // Walk in lockstep until a match is found\n\n\n  var depth = pathALength;\n\n  while (depth--) {\n    if (itemA === itemB) {\n      return itemA;\n    }\n\n    itemA = pathA[indexA++];\n    itemB = pathB[indexB++];\n  }\n\n  return null;\n}\n/**\n * Determine whether any of the active touches are within the current responder.\n * This cannot rely on W3C `targetTouches`, as neither IE11 nor Safari implement it.\n */\n\nexport function hasTargetTouches(target, touches) {\n  if (!touches || touches.length === 0) {\n    return false;\n  }\n\n  for (var i = 0; i < touches.length; i++) {\n    var node = touches[i].target;\n\n    if (node != null) {\n      if (target.contains(node)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n/**\n * Ignore 'selectionchange' events that don't correspond with a person's intent to\n * select text.\n */\n\nexport function hasValidSelection(domEvent) {\n  if (domEvent.type === 'selectionchange') {\n    return isSelectionValid();\n  }\n\n  return domEvent.type === 'select';\n}\n/**\n * Events are only valid if the primary button was used without specific modifier keys.\n */\n\nexport function isPrimaryPointerDown(domEvent) {\n  var altKey = domEvent.altKey,\n      button = domEvent.button,\n      buttons = domEvent.buttons,\n      ctrlKey = domEvent.ctrlKey,\n      type = domEvent.type;\n  var isTouch = type === 'touchstart' || type === 'touchmove';\n  var isPrimaryMouseDown = type === 'mousedown' && (button === 0 || buttons === 1);\n  var isPrimaryMouseMove = type === 'mousemove' && buttons === 1;\n  var noModifiers = altKey === false && ctrlKey === false;\n\n  if (isTouch || isPrimaryMouseDown && noModifiers || isPrimaryMouseMove && noModifiers) {\n    return true;\n  }\n\n  return false;\n}"]},"metadata":{},"sourceType":"module"}