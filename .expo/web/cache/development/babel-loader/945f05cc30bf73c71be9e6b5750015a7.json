{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nexports.__esModule = true;\nexports.default = useEvent;\nvar _createEventHandle = _interopRequireDefault(require(\"../createEventHandle\"));\nvar _useLayoutEffect = _interopRequireDefault(require(\"../useLayoutEffect\"));\nvar _useStable = _interopRequireDefault(require(\"../useStable\"));\nfunction useEvent(event, options) {\n  var targetListeners = (0, _useStable.default)(function () {\n    return new Map();\n  });\n  var addListener = (0, _useStable.default)(function () {\n    var addEventListener = (0, _createEventHandle.default)(event, options);\n    return function (target, callback) {\n      var removeTargetListener = targetListeners.get(target);\n      if (removeTargetListener != null) {\n        removeTargetListener();\n      }\n      if (callback == null) {\n        targetListeners.delete(target);\n      }\n      var removeEventListener = addEventListener(target, callback);\n      targetListeners.set(target, removeEventListener);\n      return removeEventListener;\n    };\n  });\n  (0, _useLayoutEffect.default)(function () {\n    return function () {\n      targetListeners.forEach(function (removeListener) {\n        removeListener();\n      });\n      targetListeners.clear();\n    };\n  }, [targetListeners]);\n  return addListener;\n}\nmodule.exports = exports.default;","map":{"version":3,"sources":["/Users/VidhiKataria/Documents/Projects/testing123/node_modules/react-native-web/dist/cjs/modules/useEvent/index.js"],"names":["_interopRequireDefault","require","default","exports","__esModule","useEvent","_createEventHandle","_useLayoutEffect","_useStable","event","options","targetListeners","Map","addListener","addEventListener","target","callback","removeTargetListener","get","delete","removeEventListener","set","forEach","removeListener","clear","module"],"mappings":"AAAA,YAAA;;AAEA,IAAIA,sBAAAA,GAAyBC,OAAAA,CAAQ,8CAAA,CAAA,CAAgDC,OAAO;AAE5FC,OAAAA,CAAQC,UAAU,GAAG,IAAI;AACzBD,OAAAA,CAAQD,OAAO,GAAGG,QAAAA;AAElB,IAAIC,kBAAAA,GAAqBN,sBAAAA,CAAuBC,OAAAA,wBAAQ,CAAA;AAExD,IAAIM,gBAAAA,GAAmBP,sBAAAA,CAAuBC,OAAAA,sBAAQ,CAAA;AAEtD,IAAIO,UAAAA,GAAaR,sBAAAA,CAAuBC,OAAAA,gBAAQ,CAAA;AAoBhD,SAASI,QAAAA,CAASI,KAAK,EAAEC,OAAO,EAAE;EAChC,IAAIC,eAAAA,GAAmB,CAAA,CAAA,EAAGH,UAAAA,CAAWN,OAAO,EAAE;IAAA,OAAM,IAAIU,GAAAA,EAAAA;EAAAA,EAAAA;EACxD,IAAIC,WAAAA,GAAe,CAAA,CAAA,EAAGL,UAAAA,CAAWN,OAAO,EAAE,YAAM;IAC9C,IAAIY,gBAAAA,GAAoB,CAAA,CAAA,EAAGR,kBAAAA,CAAmBJ,OAAO,EAAEO,KAAAA,EAAOC,OAAAA,CAAAA;IAC9D,OAAO,UAACK,MAAAA,EAAQC,QAAAA,EAAa;MAC3B,IAAIC,oBAAAA,GAAuBN,eAAAA,CAAgBO,GAAG,CAACH,MAAAA,CAAAA;MAE/C,IAAIE,oBAAAA,IAAwB,IAAI,EAAE;QAChCA,oBAAAA,EAAAA;MACF;MAEA,IAAID,QAAAA,IAAY,IAAI,EAAE;QACpBL,eAAAA,CAAgBQ,MAAM,CAACJ,MAAAA,CAAAA;MACzB;MAEA,IAAIK,mBAAAA,GAAsBN,gBAAAA,CAAiBC,MAAAA,EAAQC,QAAAA,CAAAA;MACnDL,eAAAA,CAAgBU,GAAG,CAACN,MAAAA,EAAQK,mBAAAA,CAAAA;MAC5B,OAAOA,mBAAAA;IACT,CAAA;EACF,CAAA,CAAA;EACC,CAAA,CAAA,EAAGb,gBAAAA,CAAiBL,OAAO,EAAE,YAAM;IAClC,OAAO,YAAM;MACXS,eAAAA,CAAgBW,OAAO,CAACC,UAAAA,cAAAA,EAAkB;QACxCA,cAAAA,EAAAA;MACF,CAAA,CAAA;MACAZ,eAAAA,CAAgBa,KAAK,EAAA;IACvB,CAAA;EACF,CAAA,EAAG,CAACb,eAAAA,CAAgB,CAAA;EACpB,OAAOE,WAAAA;AACT;AAEAY,MAAAA,CAAOtB,OAAO,GAAGA,OAAAA,CAAQD,OAAO","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nexports.__esModule = true;\nexports.default = useEvent;\n\nvar _createEventHandle = _interopRequireDefault(require(\"../createEventHandle\"));\n\nvar _useLayoutEffect = _interopRequireDefault(require(\"../useLayoutEffect\"));\n\nvar _useStable = _interopRequireDefault(require(\"../useStable\"));\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\n/**\n * This can be used with any event type include custom events.\n *\n * const click = useEvent('click', options);\n * useEffect(() => {\n *   click.setListener(target, onClick);\n *   return () => click.clear();\n * }).\n */\nfunction useEvent(event, options) {\n  var targetListeners = (0, _useStable.default)(() => new Map());\n  var addListener = (0, _useStable.default)(() => {\n    var addEventListener = (0, _createEventHandle.default)(event, options);\n    return (target, callback) => {\n      var removeTargetListener = targetListeners.get(target);\n\n      if (removeTargetListener != null) {\n        removeTargetListener();\n      }\n\n      if (callback == null) {\n        targetListeners.delete(target);\n      }\n\n      var removeEventListener = addEventListener(target, callback);\n      targetListeners.set(target, removeEventListener);\n      return removeEventListener;\n    };\n  });\n  (0, _useLayoutEffect.default)(() => {\n    return () => {\n      targetListeners.forEach(removeListener => {\n        removeListener();\n      });\n      targetListeners.clear();\n    };\n  }, [targetListeners]);\n  return addListener;\n}\n\nmodule.exports = exports.default;"]},"metadata":{},"sourceType":"script"}